# 区块链共识机制各自的优缺点

**目前主要包括POW、POS、DPOS、dBFT**

## 第一种 POW
 - POW概念：

	PoW工作量证明，是一种效率极为低下的暴力机制，通过不停地循环生成随机数并进行散列，判断散列值是否符合当前系统规定的难度值，若符合则挖矿成功并全网广播，让其他节点验证。通俗的说，PoW 的意思就是社会主义，按劳分配，多劳多得。
  
 - 优点：
	 
	1、算法简单，易于实现
 
    2、节点之间无需交换额外的信息即可达成共识

	3、安全性高，破坏系统需要投入极大的成本，如果想作弊，要有压倒大多数人的算力（51%攻击）

    4、去中心化，将记账权公平的分派到其他节点，你能够获得的币的数量，取决于你挖矿贡献的有效工作

 - 缺点：

	1、挖矿造成大量的资源浪费，目前bitcoin已经吸引全球大部分的算力，其它再用Pow共识机制的区块链应用很难获得相同的算力来保障自身的安全。这让依据算力公平分配奖励的机制，演变为了对矿机算力的大举投入，扭曲了中本聪的设计初衷。

	2、网络性能太低，需要等待多个确认，容易产生分叉，区块的确认共识达成的周期较长（10分钟），现在每秒交易量上限是7笔，不适合商业应用。

	3、PoW共识算法算力集中化，慢慢的偏离了原来的去中心化轨道。从比特币扩容之争可以看到，算力高的大型矿池是主人，而持币的人没有参与决定的权利，比特币分叉出很多儿子，即将失去“去中心化”的标签。

 - 使用此共识的主流币
 
	比特币、莱特币

## 第二种：POS

 - POS概念：

	PoS权益证明，Pow的一种升级共识机制；根据每个节点所占代币的比例和时间；等比例的降低挖矿难度，从而加快找随机数的速度，通俗的说，PoS 就是资本主义，按钱分配，钱生钱。

 - 出现原因：
 
	PoS 试图解决 PoW 机制中大量资源被浪费的情况。这种机制通过计算你持有占总币数的百分比以及占有币数的时间来决定记账权。现实世界中 PoS 很普遍，最为熟知的例子就是股票。股票是用来记录股权的证明，股票持有量多的，拥有更高更多的投票权和收益权

 - 优点

	1、在一定程度上缩短了共识达成的时间。
	
	2、不再需要大量消耗能源挖矿。

	3、Pos 当然也能防作弊，因为如果一名持有 51%以上股权的人作弊，相当于他坑了自己，因为一个人自己不会杀死自己的钱。

 - 缺点
 
	1、还是需要挖矿，本质上没有解决商业应用的痛点

	2、所有的确认都只是一个概率上的表达，而不是一个确定性的事情，理论上有可能存在其他攻击影响。例如，以太坊的DAO攻击事件造成以太坊硬分叉，而ETC由此事件出现，事实上证明了此次硬分叉的失败。

	3、极端的情况下会带来中心化的结果。在POS机制里，拥有币和币龄越高的节点拥有着越高产生新区块的权力。简单来说，就是你拥有越多的币，并且你拥有的币的币龄越久，就有可能获得记账权的概率越大。POS虽然解决了POW的能耗的问题，但全节点确认会让区块确认的效率提不起来，且时间越长，也越容易产生马太效应，即持有币越多的人会获得更多的币奖励，从而加大贫富差距，最终产生超过50%的中心化节点，被动演化为非预期的中心化的结果。

 - 使用此共识的主流币
 
	比原链、未来币

## 第三种：DPOS

 - DPOS概念：
 
	DPOS授权证明共识，比特股（BTS）最先引入的，在POS的基础上，将记账人的角色专业化，先通过权益来选出记账人，然后记账人之间再轮流记账，类似中国的人名代表大会制度，持币者投出一定数量的节点，代理他们进行验证和记账，而不用在网络中全部节点之间进行选择。

 - 出现原因：
 
	解决节点多，确认时间长的问题

 - 优点：
 
	1、能耗更低。DPoS机制将节点数量进一步减少，在保证网络安全的前提下，整个网络的能耗进一步降低，网络运行成本最低。

	2、更快的确认速度。每个块的时间为1秒，一笔交易（在得到6-10个确认后）大概10秒，而比特币（PoW机制）产生一个区块需要10分钟，一笔交易完成（6个区块确认后）需要1个小时

 - 缺点：

	1、投票的积极性并不高。绝大多数持股人（90％+）从未参与投票。这是因为投票需要时间、精力以及技能，而这恰恰是大多数投资者所缺乏的。

	2、整个共识机制还是依赖于代币，很多商业应用是不需要代币存在的

 - 使用此共识的主流币
 
	EOS 、BTS

## 第四种：dBFT

 - dBFT概念：
 
	授权拜占庭容错（dBFT），由权益选出记账人，然后记账人之间通过拜占庭容错算法达成共识。

 - 出现原因：
 
	这种共识机制是在Castro 和 Liskov提出的“实用拜占庭容错算法”的基础上，经过改进后使其能够适用于区块链系统。主要改进：
	1、将C/S架构的请求响应模式，改进为适合P2P网络的对等节点模式；2、将静态的共识参与节点改进为可动态进入、退出的动态共识参与节点；3、为共识参与节点的产生设计了一套基于持有权益比例的投票机制，通过投票决定共识参与节点，4、在区块链中引入数字证书，解决了投票中对记账节点真实身份的认证问题；

 - 优点：
 
	1、专业化的记账人

	2、可以容忍任何类型的错误

	3、记账由多人协同完成，每一个区块都有最终性，不会分叉

 - 缺点：
 
	1、当有1/3或以上记账人停止工作后，系统将无法提供服务

	2、当有1/3或以上记账人联合作恶，且其它所有的记账人被恰好分割为两个网络孤岛时，恶意记账人可以使系统出现分叉，但是会留下密码学证据

 - 总结：dBFT机制最核心的一点，就是最大限度地确保系统的最终性，使区块链能够适用于真正的金融应用场景。
	
 - 使用此共识的主流币
 
	小蚁NEO
	
