[白皮书]https://www.truechain.pro/Truechain.pdf
[黄皮书]https://github.com/truechain/wiki/blob/master/docs-cn/yellowpaper.md

区块链通过分布式节点保存数据去中心化，通过分布式必然要考虑节点信息一致性，网络节点类似经典的“拜占庭问题”，通过共识机制达成节点相互信任。
共识机制面临的挑战有节点内部处理能力有差异，网络吞吐量有差异；节点间的通信时通过网络可能有安全性的问题；可能有“坏”节点，节点被挟持，导致节点不可信任；
在共识算法上有：
POW(proof of work)比特币莱特币等货币型区块链（公有链），在比特币等货币型区块链中让各节点达成一致性的共识机制为工作量证明，也是我们说的挖矿。
优点就是完全去中心化、节点自由进出，容易实现、破坏系统花费的成本巨大。当然缺点也很大，对节点的性能网络环境要求高、无法达成最终一致性，最关键的是挖矿的过程本身就是极大的浪费！
POS（proof of stake）Bitshares和qutm等合约型区块链；如果简单的把POW当作比力量大小的话，POS就是比耐力多少。通过“币天”的机制对计算机进行哈希计算降低了难度，降低了计算机的门槛；
但是对计算机还是有一定要求的，它把钱包和区块链系统的一致性绑定在一起。谁的钱包里的币天数越大谁拥有记账权的概率就越大。但是它和POW机制一样解决问题的思想也导致了它与POW拥有一样的缺点，也是牺牲了一部分的共识（同样分叉），而且需要等待多个确认。优点就是对节点性能要求低，达成共识时间短（网络环境好的话可实现毫秒级）；缺点也同样没有最终一致性。
DPOS是基于POS衍生出的更专业的解决方案，他是类似于董事会的投票机制，选举出n个记账节点，在节点中提案者提交的提案被这些记账节点投票决定谁是正确的。通过选举记账节点减少记账规模，弱化的中心提高效率。缺点就是牺牲了去中心化的概念，不适合共有链，更倾向于联盟链。
dBFT（delegated BFT）：小蚁区块链（授权拜占庭容错机制）用权益来选出记账人，然后记账人之间通过拜占庭容错算法 达成共识。
优点是专业化的记账人可以容忍任何类型的错误记账由多人协同完成，每一个区块都有最终性，不会分叉算法的可靠性有。
严格的数学证明缺点：当三分之一或以上记账人停止工作后，系统将无法提供服务当三分之一或以上记账人联合作恶，且其他所有的记账人恰好分割为两个网络孤岛时，恶意记账人可以使系统出现分叉。
PBFT：Fabric使用的经典算法（拜占庭容错）这是一种基于消息传递的一致性算法，算法经过三个阶段达成一致性，这些阶段可能因为失败而重复进行。
优点：上述其他算法都脱离不了币的存在，币的存在及它的奖励机制会让区块链这一单一的世界穷者更穷，富者更富。共识效率高，可实现高频交易。缺点：当系统只剩下33%的节点运行时，系统会停止运行。
Paxos：Paxos被用于分布式系统中典型的例子就是Zookeeper，他是第一个被证明的共识算法，其原理基于两阶段提交并扩展。能保证在超过50%的正常节点存在时，系统能达成共识。Raft算法是对Paxos算法的一种简单实现。
智能合约：
简单的可以理解成IFTT(if this then that),在达成一致前通过合约执行结果。
智能合约由区块链内的多个用户共同参与制定，可用于用户之间的任何交易行为。
协议中明确了双方的权利和义务，开发人员将这些权利和义务以电子化的方式进行编程，代码中包含会触发合约自动执行的条件。
一旦编码完成，这份智能合约就被上传到区块链网络上，全网验证节点都会接收到这份合约。通过合约上的触发条件合约执行并通知用户。
执行成功的合约将被移除。未执行的合约会一直等到合约触发。部署到以太坊上的智能合约是要消耗以太币的。
就好像把现实中的仲裁人、法官、执行人搬到了区块链上，尽管他们成了一行行的代码，但也是珍贵的计算机资源。
智能合约也遵循“Less is more”，逻辑应尽可能地简单。逻辑越复杂，消耗的以太币就越多。
